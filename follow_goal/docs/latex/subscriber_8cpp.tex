\hypertarget{subscriber_8cpp}{}\doxysection{follow\+\_\+goal/src/subscriber.cpp File Reference}
\label{subscriber_8cpp}\index{follow\_goal/src/subscriber.cpp@{follow\_goal/src/subscriber.cpp}}


R\+OS node for computing the distance from the goal and average velocity.  


{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sstream$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include \char`\"{}follow\+\_\+goal/pos\+\_\+vel.\+h\char`\"{}}\newline
{\ttfamily \#include $<$follow\+\_\+goal/\+Planning\+Action\+Goal.\+h$>$}\newline
Include dependency graph for subscriber.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{subscriber_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{subscriber_8cpp_ab103182ef0d2f29733647504b4e20344}{pos\+\_\+vel\+\_\+callback}} (const follow\+\_\+goal\+::pos\+\_\+vel\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em pos\+\_\+vel\+\_\+callback function \end{DoxyCompactList}\item 
void \mbox{\hyperlink{subscriber_8cpp_aa96769046dc6771177539a6d1a5efb71}{goal\+\_\+callback}} (const follow\+\_\+goal\+::\+Planning\+Action\+Goal\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em goal\+\_\+callback function \end{DoxyCompactList}\item 
void \mbox{\hyperlink{subscriber_8cpp_a677c806d234342782e3d8cf31c7b4cc2}{get\+\_\+dist\+\_\+vel\+\_\+from\+\_\+goal}} ()
\begin{DoxyCompactList}\small\item\em get\+\_\+dist\+\_\+vel\+\_\+from\+\_\+goal function \end{DoxyCompactList}\item 
int \mbox{\hyperlink{subscriber_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{subscriber_8cpp_a103d17f7ae810b61a0196086a9642477}\label{subscriber_8cpp_a103d17f7ae810b61a0196086a9642477}} 
float {\bfseries x\+\_\+pos}
\item 
\mbox{\Hypertarget{subscriber_8cpp_a17c98f6e8cadb148806771b487612871}\label{subscriber_8cpp_a17c98f6e8cadb148806771b487612871}} 
float \mbox{\hyperlink{subscriber_8cpp_a17c98f6e8cadb148806771b487612871}{y\+\_\+pos}}
\begin{DoxyCompactList}\small\item\em global varibles for (x,y) positions of the robot \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a3de37f75c60c34f649fd275f98dccd08}\label{subscriber_8cpp_a3de37f75c60c34f649fd275f98dccd08}} 
float {\bfseries x\+\_\+vel}
\item 
\mbox{\Hypertarget{subscriber_8cpp_abad2a40e891314347d092d5a8f4ebb84}\label{subscriber_8cpp_abad2a40e891314347d092d5a8f4ebb84}} 
float \mbox{\hyperlink{subscriber_8cpp_abad2a40e891314347d092d5a8f4ebb84}{y\+\_\+vel}}
\begin{DoxyCompactList}\small\item\em global varibles for (x,y) velocities of the robot \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a829831b69f522e8f5ae5dcdc28158d3e}\label{subscriber_8cpp_a829831b69f522e8f5ae5dcdc28158d3e}} 
float {\bfseries x\+\_\+goal}
\item 
\mbox{\Hypertarget{subscriber_8cpp_a20e8d23393e688fc52779c872bdc1e45}\label{subscriber_8cpp_a20e8d23393e688fc52779c872bdc1e45}} 
float \mbox{\hyperlink{subscriber_8cpp_a20e8d23393e688fc52779c872bdc1e45}{y\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em global varibles for (x,y) positions of the goal \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a1b8c645264a548861c61b9ef4b1485cc}\label{subscriber_8cpp_a1b8c645264a548861c61b9ef4b1485cc}} 
float \mbox{\hyperlink{subscriber_8cpp_a1b8c645264a548861c61b9ef4b1485cc}{dist\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em global varible for the distance from the goal \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a66e985d480ed35168618b353fcbf23c8}\label{subscriber_8cpp_a66e985d480ed35168618b353fcbf23c8}} 
float \mbox{\hyperlink{subscriber_8cpp_a66e985d480ed35168618b353fcbf23c8}{average\+\_\+vel}}
\begin{DoxyCompactList}\small\item\em global varible for the average speed of the robot \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a4c45cdff103e6644a620ba5061509f22}\label{subscriber_8cpp_a4c45cdff103e6644a620ba5061509f22}} 
double \mbox{\hyperlink{subscriber_8cpp_a4c45cdff103e6644a620ba5061509f22}{frequency}}
\begin{DoxyCompactList}\small\item\em global varibles for the frequency rate \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a9f8f559934ca95930e4ab2cac5a2bf4d}\label{subscriber_8cpp_a9f8f559934ca95930e4ab2cac5a2bf4d}} 
ros\+::\+Subscriber \mbox{\hyperlink{subscriber_8cpp_a9f8f559934ca95930e4ab2cac5a2bf4d}{sub1}}
\begin{DoxyCompactList}\small\item\em instance for the first subscriber \end{DoxyCompactList}\item 
\mbox{\Hypertarget{subscriber_8cpp_a653ccfdc13baa6bb7ef0ce8f2c10de90}\label{subscriber_8cpp_a653ccfdc13baa6bb7ef0ce8f2c10de90}} 
ros\+::\+Subscriber \mbox{\hyperlink{subscriber_8cpp_a653ccfdc13baa6bb7ef0ce8f2c10de90}{sub2}}
\begin{DoxyCompactList}\small\item\em instance for the second subscriber \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
R\+OS node for computing the distance from the goal and average velocity. 

\begin{DoxyAuthor}{Author}
Veronica Gavagna 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
26/01/2023 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{subscriber_8cpp_a677c806d234342782e3d8cf31c7b4cc2}\label{subscriber_8cpp_a677c806d234342782e3d8cf31c7b4cc2}} 
\index{subscriber.cpp@{subscriber.cpp}!get\_dist\_vel\_from\_goal@{get\_dist\_vel\_from\_goal}}
\index{get\_dist\_vel\_from\_goal@{get\_dist\_vel\_from\_goal}!subscriber.cpp@{subscriber.cpp}}
\doxysubsubsection{\texorpdfstring{get\_dist\_vel\_from\_goal()}{get\_dist\_vel\_from\_goal()}}
{\footnotesize\ttfamily void get\+\_\+dist\+\_\+vel\+\_\+from\+\_\+goal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



get\+\_\+dist\+\_\+vel\+\_\+from\+\_\+goal function 


\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{subscriber_8cpp_aa96769046dc6771177539a6d1a5efb71}\label{subscriber_8cpp_aa96769046dc6771177539a6d1a5efb71}} 
\index{subscriber.cpp@{subscriber.cpp}!goal\_callback@{goal\_callback}}
\index{goal\_callback@{goal\_callback}!subscriber.cpp@{subscriber.cpp}}
\doxysubsubsection{\texorpdfstring{goal\_callback()}{goal\_callback()}}
{\footnotesize\ttfamily void goal\+\_\+callback (\begin{DoxyParamCaption}\item[{const follow\+\_\+goal\+::\+Planning\+Action\+Goal\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



goal\+\_\+callback function 


\begin{DoxyParams}{Parameters}
{\em msg} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
This function gets coordinates of the goal. \mbox{\Hypertarget{subscriber_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{subscriber_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{subscriber.cpp@{subscriber.cpp}!main@{main}}
\index{main@{main}!subscriber.cpp@{subscriber.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main function. 


\begin{DoxyParams}{Parameters}
{\em argc,argv} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0
\end{DoxyReturn}
This function manages the subscriber node. ~\newline
 It does the R\+OS init, set the Node\+Handle to access the comunication with the R\+OS system, set the rate frequency, creates a subscriber to \char`\"{}/robot\+\_\+info\char`\"{} and another one to \char`\"{}/reaching\+\_\+goal/goal\char`\"{}. ~\newline
 It also calls the function to compute the distance from the goal and the average speed. \mbox{\Hypertarget{subscriber_8cpp_ab103182ef0d2f29733647504b4e20344}\label{subscriber_8cpp_ab103182ef0d2f29733647504b4e20344}} 
\index{subscriber.cpp@{subscriber.cpp}!pos\_vel\_callback@{pos\_vel\_callback}}
\index{pos\_vel\_callback@{pos\_vel\_callback}!subscriber.cpp@{subscriber.cpp}}
\doxysubsubsection{\texorpdfstring{pos\_vel\_callback()}{pos\_vel\_callback()}}
{\footnotesize\ttfamily void pos\+\_\+vel\+\_\+callback (\begin{DoxyParamCaption}\item[{const follow\+\_\+goal\+::pos\+\_\+vel\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



pos\+\_\+vel\+\_\+callback function 


\begin{DoxyParams}{Parameters}
{\em msg} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
This function get position and velocity of the robot from custom topic pos\+\_\+vel. 